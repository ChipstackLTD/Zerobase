/* Hiển thị hình ảnh lên OLED SSD1306
 *
 * Mô tả: Chương trình này hiển thị hình ảnh lên màn hình OLED SSD1306
 *
 * Link bài viết hướng dẫn: [Thêm link bài viết hướng dẫn chi tiết]
 */

// Thêm thư viện in ra Serial Monitor
#include <ZBPrint.h>
// Thêm thư viện Wire để giao tiếp I2C
#include <Wire.h>
// Thêm thư viện đồ họa Adafruit
#include <Adafruit_GFX.h>
// Thêm thư viện điều khiển màn hình OLED SSD1306
#include <Adafruit_SSD1306.h>

// Cấu hình OLED
// Định nghĩa chiều rộng màn hình là 128 pixel
#define SCREEN_WIDTH 128
// Định nghĩa chiều cao màn hình là 64 pixel
#define SCREEN_HEIGHT 64
// Định nghĩa chân reset cho OLED, -1 nghĩa là không sử dụng chân reset
#define OLED_RESET -1
// Khởi tạo đối tượng điều khiển màn hình OLED với các thông số đã cấu hình
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

// 'chipstack__logo', 95x32px - Khai báo bitmap logo chipstack kích thước 95x32 pixel
const unsigned char epd_bitmap_chipstack__logo[] PROGMEM = {
  // Dữ liệu bitmap cho logo chipstack được lưu trong bộ nhớ PROGMEM
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xa0, 0x00, 0x7f, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x01, 0x18, 0x01, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4c,
  0x07, 0xe0, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x0f, 0xcc, 0x7e, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x08, 0x1f, 0x1e, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x90, 0x1f, 0x8c, 0x7e, 0x00, 0x10, 0x10, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00,
  0x07, 0xe1, 0xf8, 0x00, 0x18, 0x10, 0x00, 0x02, 0x00, 0x00, 0x60, 0x00, 0x19, 0xfb, 0xf2, 0x03,
  0x9b, 0x00, 0x60, 0xe7, 0x18, 0x0e, 0x60, 0x00, 0x1c, 0xff, 0xcf, 0x0f, 0xdf, 0x93, 0xf1, 0xf7,
  0x3f, 0x9f, 0x66, 0x00, 0x1f, 0x3f, 0x1f, 0x0c, 0x59, 0xd3, 0x1b, 0x06, 0x63, 0xb1, 0x6c, 0x00,
  0x1f, 0x8e, 0x7e, 0x18, 0x18, 0xd2, 0x0b, 0xc2, 0x41, 0xe0, 0x78, 0x00, 0x0f, 0xe1, 0xfc, 0x18,
  0x18, 0xd2, 0x0d, 0xf2, 0x41, 0xe0, 0x78, 0x00, 0x03, 0xf3, 0xf0, 0x1c, 0x18, 0xd3, 0x18, 0x32,
  0x63, 0xb0, 0x6c, 0x00, 0x18, 0xff, 0xe7, 0x0f, 0xd8, 0xdb, 0xfb, 0x33, 0x7f, 0xbf, 0x66, 0x00,
  0x1e, 0x7f, 0x9f, 0x07, 0xd0, 0xd3, 0xf3, 0xf3, 0x3f, 0x1e, 0x66, 0x00, 0x1f, 0x9e, 0x3f, 0x00,
  0x00, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xc4, 0xfe, 0x00, 0x00, 0x06, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x07, 0xf3, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x01, 0xfb, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// 'logo', 128x32px - Khai báo bitmap logo kích thước 128x32 pixel
const unsigned char epd_bitmap_logo[] PROGMEM = {
  // Dữ liệu bitmap cho logo chính được lưu trong bộ nhớ PROGMEM
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x07, 0xff, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x02, 0x00, 0x1e, 0x01, 0x3e, 0x07, 0xc0, 0x31, 0xe0, 0x03, 0xe0, 0x07, 0xc0, 0x0f, 0x00,
  0x00, 0x04, 0x00, 0x61, 0x81, 0xe0, 0x0c, 0x70, 0x36, 0x30, 0x06, 0x38, 0x0c, 0x70, 0x31, 0xc0,
  0x00, 0x0c, 0x00, 0xc0, 0xc1, 0x80, 0x10, 0x18, 0x3c, 0x00, 0x0c, 0x0c, 0x18, 0x10, 0x60, 0x60,
  0x00, 0x18, 0x00, 0x80, 0x41, 0x00, 0x30, 0x08, 0x18, 0x00, 0x18, 0x04, 0x18, 0x00, 0xc0, 0x20,
  0x00, 0x30, 0x01, 0x00, 0x41, 0x00, 0x20, 0x0c, 0x10, 0x00, 0x10, 0x06, 0x08, 0x00, 0x80, 0x20,
  0x00, 0x20, 0x01, 0x80, 0x41, 0x00, 0x20, 0x0c, 0x10, 0x06, 0x10, 0x02, 0x07, 0x00, 0xc0, 0x20,
  0x00, 0x40, 0x01, 0xff, 0xc1, 0x00, 0x20, 0x0c, 0x10, 0x06, 0x10, 0x02, 0x01, 0xe0, 0xff, 0xe0,
  0x00, 0xc0, 0x01, 0x00, 0x01, 0x00, 0x20, 0x0c, 0x10, 0x06, 0x10, 0x06, 0x00, 0x30, 0x80, 0x00,
  0x01, 0x80, 0x01, 0x80, 0x01, 0x00, 0x20, 0x08, 0x10, 0x04, 0x18, 0x06, 0x00, 0x10, 0xc0, 0x00,
  0x03, 0x00, 0x00, 0x80, 0x01, 0x00, 0x30, 0x18, 0x18, 0x0c, 0x18, 0x0e, 0x00, 0x10, 0x40, 0x00,
  0x02, 0x00, 0x00, 0x60, 0xc1, 0x00, 0x18, 0x30, 0x0c, 0x18, 0x0c, 0x1e, 0x18, 0x30, 0x20, 0x40,
  0x07, 0xff, 0xe0, 0x3f, 0x81, 0x00, 0x0f, 0xe0, 0x07, 0xf0, 0x07, 0xe6, 0x0f, 0xe0, 0x1f, 0x80,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

void setup() {
  // Khởi động màn hình OLED
  // Nếu địa chỉ 0x3C không hoạt động thì đổi sang địa chỉ 0x3D
  if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    for (;;)
      ;  // dừng nếu không khởi động được
  }
}


void loop() {

  display.clearDisplay();       // Xoá màn hình
  display.setTextColor(WHITE);  // Màu trắng
  display.setCursor(30, 10);    // Dòng đầu tiên
                                // Sử dụng phông chữ size 2 (lớn hơn)
  display.setTextSize(1);       // size 1 là kích thước chữ bình thường
  display.println("Hello World!");
  // Sử dụng phông chữ size 1 (không thay đổi)
  display.setTextSize(1);     // vẫn giữ nguyên size 1
  display.setCursor(45, 22);  // Di chuyển con trỏ xuống vị trí (45, 22)
  display.println("This is");
  display.display();  // Hiển thị nội dung lên màn hình

  // Sử dụng phông chữ size 2 (lớn hơn)
  display.setTextSize(2);    // Tăng kích thước chữ lên size 2 (lớn hơn)
  display.setCursor(8, 40);  // Di chuyển con trỏ xuống vị trí (8, 40)
  display.println("Zerobase 2");
  display.display();  // Hiển thị nội dung lên màn hình

  delay(2000);                                                                    // Tạm dừng 2 giây
  display.clearDisplay();                                                         // Xóa màn hình
  display.drawBitmap(0, 16, epd_bitmap_logo, 128, 32, SSD1306_WHITE);             // Vẽ bitmap logo chính tại vị trí (0,16)
  display.display();                                                              // Hiển thị nội dung lên màn hình
  delay(2000);                                                                    // Tạm dừng 2 giây
  display.clearDisplay();                                                         // Xóa màn hình
  display.drawBitmap(17, 16, epd_bitmap_chipstack__logo, 95, 32, SSD1306_WHITE);  // Vẽ bitmap logo chipstack tại vị trí (17,16)
  display.display();                                                              // Hiển thị nội dung lên màn hình
  delay(2000);                                                                    // Tạm dừng 2 giây
}